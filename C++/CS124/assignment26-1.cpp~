/***********************************************************************
* Program:
*    Assignment 26, Files
*    Brother Wagstaff, CS124
* Author:
*    Elbert Prescott
* Summary:
*    this program will read a text file with multiple grades then generate
*    average grade
*
*    Estimated:  2.0 hrs
*    Actual:     4.0 hrs
*    figuring out how to read file and calculate it average took me hours
************************************************************************/

#include <iostream>
#include <fstream>
using namespace std;

/**********************************************************************
 * getFileName() will input the file name to be read
 ***********************************************************************/
void getFileName(char fileName[])
{
   cout << "Please enter the filename: ";
   cin >> fileName;
}

/**********************************************************************
 * readFile() will read the text file and compute the average grade
 ***********************************************************************/
float readFile(char fileName[])
{
   //open the data
   ifstream fin(fileName);
   if (fin.fail())
      return 0.0;

   //read the data
   float grade = {0};
   float sum = {0};
   float average = {0};
   int itemRead = 0;
   
   while(fin >> grade)
   {
       //cout << grade << endl;
      sum += grade;
      ++itemRead;
   }

   if(itemRead < 10 || itemRead > 10)
     {
       cout << "Error reading file " << endl; 
       //cout << itemRead << endl;
       return (0);
     }
   else
     {
       average = sum/10;
      
       //close and return the data
       fin.close();
       //return sum;
       return average;
     }
}

/**********************************************************************
 * display() will display the average grade
 ***********************************************************************/
void display(float value)
{
   cout.setf(ios::fixed);
   //   cout.setf(ios::showpoint);
   cout.precision(0);
   cout << "Average Grade: " << value << '%' << endl;
}

/**********************************************************************
 * MAIN
 * The main will call the 3 funtions to input the file name, generate
 * then display average
 ***********************************************************************/
int main()
{
   char file[256] = {0};
   getFileName(file);
   float average = readFile(file);
   display(average);

   return 0;
}
